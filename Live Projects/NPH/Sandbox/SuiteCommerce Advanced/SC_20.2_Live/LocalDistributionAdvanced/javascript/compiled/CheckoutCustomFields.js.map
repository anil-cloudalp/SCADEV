{"version":3,"sources":["CheckoutCustomFields.ts"],"names":[],"mappings":"AAAA,6CAA6C;;;IAQ7C,IAAM,oBAAoB,GAAQ,oCAAgB,CAAC,MAAM,CAAC;QAExD,QAAQ,EAAE,0BAA0B;QAEnC,SAAS,EAAE,sBAAsB;QAEjC,MAAM,EAAE;YACR,cAAc;SACd;QAEA,QAAQ,EAAE;YAEV,OAAO,IAAI,CAAC;QACb,CAAC;QAEA,MAAM,EAAE;YAER,IAAI,OAAO,GAAG,4BAAY,CAAC,WAAW,EAAE,CAAC;YAEzC,IAAI,iBAAiB,GAAG,IAAI,CAAC,CAAC,CAAC,4BAA4B,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;YACzE,IAAI,UAAU,GAAG,IAAI,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;YAC3D,IAAI,YAAY,GAAG,IAAI,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;YAG/D,IAAG,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,UAAU,EAAC;gBAErD,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC;oBAC/B,SAAS,EAAE,cAAc;oBACzB,YAAY,EAAE,8BAA8B;iBAC5C,CAAC,CAAC;aACH;iBACG;gBACH,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,0BAA0B,CAAC,GAAG,UAAU,CAAC;aAC1E;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,+BAA+B,CAAC,GAAG,YAAY,CAAC;YACjF,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,iCAAiC,CAAC,GAAG,iBAAiB,CAAC;YAExF,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC,OAAO,EAAE,CAAC;QACpC,CAAC;QACA,UAAU,EAAE;YAEZ,IAAI,OAAO,GAAG,4BAAY,CAAC,WAAW,EAAE,CAAC;YACzC,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAC/C,OAAO;gBACN,QAAQ,EAAE,CAAC,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBAC9C,UAAU,EAAE,OAAO,CAAC,0BAA0B,CAAC,IAAI,EAAE;gBACrD,YAAY,EAAE,OAAO,CAAC,+BAA+B,CAAC,IAAI,EAAE;gBAC5D,iBAAiB,EAAE,OAAO,CAAC,iCAAiC,CAAC,IAAI,EAAE;gBACnE,yBAAyB,EAAE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,iBAAiB,IAAI,EAAE;aAC1E,CAAC;QACH,CAAC;KACF,CAAC,CAAC;IACH,OAAS,oBAAoB,CAAC","file":"CheckoutCustomFields.js","sourcesContent":["/// <amd-module name=\"CheckoutCustomFields\"/>\r\n\r\nimport * as checkout_custom_fields_tpl from 'checkout_custom_fields.tpl';\r\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\r\nimport { Configuration } from '../../../AdVanced/SCA/JavaScript/Configuration';\r\nimport { WizardStepModule } from '../../../AdVanced/Wizard/JavaScript/Wizard.StepModule';\r\nimport { ProfileModel } from '../../../Commons/Profile/JavaScript/Profile.Model';\r\n\r\nconst CheckoutCustomFields: any = WizardStepModule.extend({\r\n\t\t\r\n\t\ttemplate: checkout_custom_fields_tpl\r\n\t\t\r\n\t,\tclassName: 'CheckoutCustomFields'\r\n\t\r\n\t,\terrors: [\r\n\t\t\t'ERR_ORDER_BY'\r\n\t\t]\r\n\t\t\r\n\t,\tisActive: function ()\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t,\tsubmit: function ()\r\n\t\t{\r\n\t\t\tvar profile = ProfileModel.getInstance();\r\n\t\t\t\r\n\t\t\tvar campaign_category = this.$('[name=\"campaign_category\"]').val() || '';\r\n\t\t\tvar ordered_by = this.$('[name=\"ordered_by\"]').val() || '';\r\n\t\t\tvar cust_comment = this.$('[name=\"cust_comment\"]').val() || '';\r\n\t\t\t\r\n\t\t\r\n\t\t\tif((profile.get('isperson') === false) && !ordered_by){\r\n\t\t\t\t\r\n\t\t\t\treturn jQuery.Deferred().reject({\r\n\t\t\t\t\terrorCode: 'ERR_ORDER_BY',\r\n\t\t\t\t\terrorMessage: 'Please Enter Ordered By Name'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.wizard.model.get('options')['custbody_appf_ordered_by'] = ordered_by;\r\n\t\t\t}\r\n\t\t\tthis.wizard.model.get('options')['custbody_ns_customer_comments'] = cust_comment;\r\n\t\t\tthis.wizard.model.get('options')['custbody_appf_campaign_category'] = campaign_category;\r\n\r\n\t\t\treturn jQuery.Deferred().resolve();\r\n\t\t}\r\n\t,\tgetContext: function ()\r\n\t\t{\t\r\n\t\t\tvar profile = ProfileModel.getInstance();\r\n\t\t\tvar options = this.wizard.model.get('options');\r\n\t\t\treturn {\r\n\t\t\t\tisPerson: (profile && profile.get('isperson')),\r\n\t\t\t\tordered_by: options['custbody_appf_ordered_by'] || '',\r\n\t\t\t\tcust_comment: options['custbody_ns_customer_comments'] || '',\r\n\t\t\t\tcampaign_category: options['custbody_appf_campaign_category'] || '',\r\n\t\t\t\tcampaign_category_options: this.wizard.application.campaign_category || []\r\n\t\t\t};\r\n\t\t}\r\n});\r\nexport = CheckoutCustomFields;\r\n"]}