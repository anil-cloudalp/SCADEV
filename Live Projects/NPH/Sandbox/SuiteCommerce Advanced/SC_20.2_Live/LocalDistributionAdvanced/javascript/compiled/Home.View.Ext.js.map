{"version":3,"sources":["Home.View.Ext.ts"],"names":[],"mappings":"AAAA,sCAAsC;;;IAatC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,EAAE;QAC3B,UAAU,EAAE;YACX,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,kBAAkB,EAAC,UAAS,IAAI;gBAC/D,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnC,IAAG,MAAM,IAAI,WAAW,EAAC;oBACjC,qBAAqB,CAAC,GAAG,CAAC,wBAAwB,EAAE,OAAO,CAAC,CAAC;oBACjD,CAAC,CAAC,6BAA6B,CAAC,CAAC,IAAI,EAAE,CAAC;oBACnD,IAAI,CAAC,MAAM,EAAE,CAAC;oBACd,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC;wBACvB,CAAC,CAAC,6BAA6B,CAAC,CAAC,IAAI,EAAE,CAAC;oBACzC,CAAC,CAAC,CAAC;iBAIM;YACV,CAAC,CAAC,CAAC;QACJ,CAAC;QAED,iBAAiB,EAAE;YAElB,IAAI,IAAI,GAAG,IAAI,CAAC;YAEhB,IAAI,OAAO,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;YAEhC,MAAM,CAAC,GAAG,CAAC,+DAA+D,EAAC,UAAS,MAAM;gBAEzF,IAAI,CAAC,aAAa,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAA,CAAC,CAAC,IAAI,cAAc,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAA,CAAC,CAAC,EAAE,CAAC;gBAEnG,MAAM,CAAC,GAAG,CAAC,+DAA+D,EAAC,UAAS,MAAM;oBAEzF,IAAI,CAAC,eAAe,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,CAAA,CAAC,CAAC,IAAI,cAAc,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAA,CAAC,CAAC,EAAE,CAAC;oBACrG,OAAO,CAAC,OAAO,EAAE,CAAC;gBACnB,CAAC,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;YAEH,OAAO,OAAO,CAAC;QAChB,CAAC;QACA,UAAU,EACX;YACC,kBAAkB,EAAE;gBAEnB,OAAO,IAAI,oBAAoB,CAAC;oBAC/B,WAAW,EAAG,IAAI,CAAC,OAAO,CAAC,WAAW;oBACpC,UAAU,EAAG,IAAI,CAAC,eAAe;iBACnC,CAAC,CAAC;YACJ,CAAC;YACA,eAAe,EAAE;gBAEjB,OAAO,IAAI,iBAAiB,CAAC;oBAC5B,WAAW,EAAG,IAAI,CAAC,OAAO,CAAC,WAAW;oBACrC,UAAU,EAAG,IAAI,CAAC,aAAa;iBAChC,CAAC,CAAC;YACJ,CAAC;SAED;QACA,UAAU,EAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,EAAE,SAAS,IAAI,CAAC,EAAE;YACnE,IAAI,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAG3D,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAC;gBAExB,YAAY,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA,CAAC,CAAC,IAAI,CAAA,CAAC,CAAA,KAAK;aAC5E,CAAC,CAAC;YAEH,OAAO,MAAM,CAAC;QACf,CAAC,CAAC;KACH,CAAC,CAAC;IAEH,OAAS,QAAQ,CAAC","file":"Home.View.Ext.js","sourcesContent":["/// <amd-module name=\"Home.View.Ext\"/>\n\nimport * as _ from 'underscore';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\nimport { Configuration } from '../../../Advanced/SCA/JavaScript/Configuration';\n\nimport HomeView = require('../../../Advanced/Home/JavaScript/Home.View');\nimport ItemCollection = require('../../../Commons/Item/JavaScript/Item.Collection');\nimport NewAndNoteWorthyView = require('./NewAndNoteWorthy.View');\nimport NPHRecommendsView = require('./NPHRecommends.View');\nimport SessionStorageHandler = require(\"../../../Commons/Utilities/JavaScript/SessionStorageHandler\");\n\n_.extend(HomeView.prototype, {\n\t\tinitialize: function() {\n\t\t\tthis.options.application.getLayout().on('beforeAppendView',function(view){\n            const viewId = view.$el.attr('id');\n            if(viewId == 'home-page'){\n\t\t\t\tSessionStorageHandler.set(\"musician-resource-page\", \"false\");\n                $('.shopping-layout-breadcrumb').hide();\n\t\t\t\t this.render();\n\t\t\t\t this.$(document).ready(function(){\n\t\t\t\t\t$('.shopping-layout-breadcrumb').hide();\n\t\t\t\t});\n\n\n\n            }\n\t\t\t});\n\t\t},\n\n\t\tbeforeShowContent: function()\n\t\t{\n\t\t\tvar self = this;\n\t\n\t\t\tvar promise = jQuery.Deferred();\n\t\t\t\n\t\t\tjQuery.get('/api/items?custitem_appf_nph_recommends=true&fieldset=details',function(result){\n\t\t\t\t\t\n\t\t\t\tself.nphRecommends = (result && result.total > 0)? new ItemCollection(_.compact(result.items)): [];\n\t\t\t\t\n\t\t\t\tjQuery.get('/api/items?custitem_appf_new_noteworthy=true&fieldset=details',function(result){\n\t\t\t\t\t\n\t\t\t\t\tself.newAndNoteWorty = (result && result.total > 0)? new ItemCollection(_.compact(result.items)): [];\n\t\t\t\t\tpromise.resolve();\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\treturn promise;\n\t\t}\n\t,\tchildViews:\n\t\t{\n\t\t\t'NewAndNoteWorthy': function ()\n\t\t\t{\n\t\t\t\treturn new NewAndNoteWorthyView({\n\t\t\t\t\tapplication : this.options.application\n\t\t\t\t,  collection : this.newAndNoteWorty\n\t\t\t\t});\n\t\t\t}\n\t\t,\t'NPHRecommends': function ()\n\t\t\t{\n\t\t\t\treturn new NPHRecommendsView({\n\t\t\t\t\tapplication : this.options.application\n\t\t\t\t,\tcollection : this.nphRecommends\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\t,\tgetContext:  _.wrap(HomeView.prototype.getContext, function init(fn) {\n\t\t\tlet retObj = fn.apply(this, _.toArray(arguments).slice(1));\n\t\t\t\n\t\t\t\n\t\t\tretObj = _.extend(retObj,{\n\t\t\t\t\n\t\t\t\tisNotCmsEdit: (window.parent.location.href.indexOf(\"cms\") == -1)? true:false\n\t\t\t});\n\t\t\t\n\t\t\treturn retObj;\n\t\t})\n});\n\nexport = HomeView;\n\n"]}