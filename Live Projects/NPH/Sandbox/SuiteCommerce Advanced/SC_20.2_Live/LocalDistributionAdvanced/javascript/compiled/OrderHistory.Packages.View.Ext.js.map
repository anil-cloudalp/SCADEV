{"version":3,"sources":["OrderHistory.Packages.View.Ext.ts"],"names":[],"mappings":";;IAaA,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,EAAE;QAEhC,UAAU,EAAE,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,UAAU,EAAE;YAEvD,eAAe,EAAE;gBAEhB,IAAI,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;gBAC9C,IAAI,mBAAmB,GAAG,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,MAAM,CAAC,CAAC,CAAA,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAA,CAAC,CAAC,EAAE,CAAC;gBAG9G,OAAO,IAAI,kCAAkC,CAAC;oBACtD,KAAK,EAAE,IAAI,QAAQ,CAAC,KAAK,CAAC,EAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,EAAC,YAAY,EAAE,mBAAmB,EAAC,CAAC;oBACrG,sBAAsB,EAAE,IAAI;iBAC/B,CAAC,CAAC;YACP,CAAC;YAED,kBAAkB,EAAE;gBAEzB,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,UAAU,IAAQ,IAAI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,+BAA+B,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEtI,OAAO,IAAI,sBAAsB,CAAC;oBAC9B,UAAU,EAAE,KAAK;oBACjB,SAAS,EAAE,sCAAsC;oBACjD,WAAW,EAAE,CAAC;oBACd,gBAAgB,EAAE;wBACd,SAAS,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,EAAE;wBACnD,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW;wBACrC,WAAW,EAAE,sCAAsC;wBACnD,WAAW,EAAE,2BAA2B;wBACxC,cAAc,EAAE,6BAAa,CAAC,GAAG,CAAC,uBAAuB,CAAC;wBAC1D,SAAS,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;4BAC7C,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS;4BAC1B,CAAC,CAAC,IAAI;wBACV,qBAAqB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAqB;qBAC9D;iBACJ,CAAC,CAAC;YACP,CAAC;SACP,CAAC;KACF,CAAC,CAAC;IAEH,OAAS,YAAY,CAAC","file":"OrderHistory.Packages.View.Ext.js","sourcesContent":["/// <amd-module name=\"OrderHistory.Packages.View.Ext\"/>\nimport * as _ from 'underscore';\nimport existingView = require('../../../Advanced/OrderHistory/JavaScript/OrderHistory.Packages.View');\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\n\nimport { Configuration } from '../../../Advanced/SCA/JavaScript/Configuration';\nimport TransactionLineViewsCellActionableView = require('../../../Commons/Transaction.Line.Views/JavaScript/Transaction.Line.Views.Cell.Actionable.View');\nimport TransactionLineViewsQuantityAmountView = require('../../../Commons/Transaction.Line.Views/JavaScript/Transaction.Line.Views.QuantityAmount.View');\nimport OrderHistoryItemActionsView = require('../../../Advanced/OrderHistory/JavaScript/OrderHistory.Item.Actions.View');\nimport OrderHistoryListTrackingNumberView = require('../../../Advanced/OrderHistory/JavaScript/OrderHistory.List.Tracking.Number.View');\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\nimport BackboneCollectionView = require('../../../Commons/Backbone.CollectionView/JavaScript/Backbone.CollectionView');\n\n_.extend(existingView.prototype, {\n\t\n\tchildViews: _.extend(existingView.prototype.childViews, {\n\t\t\n\t\tTrackingNumbers: function() {\n\t\t\t\n\t\t\tvar shipMethod = this.model.get('shipmethod');\n\t\t\tvar speeDeeTrackingLink = (shipMethod && (shipMethod.get('internalid') == \"8920\"))? this.model.get('trackingLink'): '';\n\t\t\t\t\n\t\t\t\n            return new OrderHistoryListTrackingNumberView({\n\t\t\t\tmodel: new Backbone.Model({trackingNumbers: this.model.get('trackingnumbers'),trackingLink: speeDeeTrackingLink}),\n                showTrackPackagesLabel: true\n            });\n        },\n\n        'Items.Collection': function() {\n\t\t\t\n\t\t\tvar lines = _.filter(this.model.get('lines'), function (line:any) { return (line.get('item').get('custitem_appf_is_imprint_item') != true); });\n\t\t\t\t\n            return new BackboneCollectionView({\n                collection: lines, //this.model.get('lines'),\n                childView: TransactionLineViewsCellActionableView,\n                viewsPerRow: 1,\n                childViewOptions: {\n                    navigable: !this.options.application.isStandalone(),\n                    application: this.options.application,\n                    SummaryView: TransactionLineViewsQuantityAmountView,\n                    ActionsView: OrderHistoryItemActionsView,\n                    showTaxDetails: Configuration.get('showTaxDetailsPerLine'),\n                    showAlert: !_.isUndefined(this.options.showAlert)\n                        ? !!this.options.showAlert\n                        : true,\n                    ignorePriceVisibility: !!this.options.ignorePriceVisibility\n                }\n            });\n        }\n\t})\n});\n\nexport = existingView;"]}