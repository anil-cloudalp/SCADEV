{"version":3,"sources":["ProductDetails.Full.View.Ext.ts"],"names":[],"mappings":"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","file":"ProductDetails.Full.View.Ext.js","sourcesContent":["/// <amd-module name=\"ProductDetails.Full.View.Ext\"/>\nimport * as _ from 'underscore';\nimport * as jQuery from '../../../Commons/Core/JavaScript/jQuery';\nimport { Configuration } from '../../../Commons/Utilities/JavaScript/Configuration';\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\n\nimport existingView = require('../../../Advanced/ProductDetails/JavaScript/ProductDetails.Full.View');\nimport ProductDetailsBaseView = require('../../../Advanced/ProductDetails/JavaScript/ProductDetails.Base.View');\nimport ProductDetailsInformationView = require('../../../Advanced/ProductDetails/JavaScript/ProductDetails.Information.View');\nimport ProductDetailsImprintOptionView = require('./ProductDetails.ImprintOption.View');\nimport ProductDetailsSubItemsView = require('./ProductDetails.SubItems.View');\nimport MusicianResourceModel = require('../../../extensions/MusicianResource/JavaScript/MusicianResource.Model');\nimport SessionStorageHandler = require('../../../Commons/Utilities/JavaScript/SessionStorageHandler')\n\n_.extend(existingView.prototype, {\n\t\n\tinitialize: function initialize(options): void {\n        ProductDetailsBaseView.prototype.initialize.apply(this, arguments);\n\n\t\tthis.model.on('change',function(model){\n\t\t\t\t\n\t\t\tvar childItem = model.getItem();\n\n\t\t\tvar showGiftOption = childItem.get('custitem_appf_is_gift') || false\n\t\t\t,\tshowRenewalNotice = childItem.get('custitem_appf_send_renewal_notice') || false;\n\t\t\t\n\t\t\tif(showGiftOption){\n\t\t\t\tjQuery('.is-gift-option').show();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tjQuery('.is-gift-option').hide();\n\t\t\t}\n\t\t\tif(showRenewalNotice){\n\t\t\t\t\n\t\t\t\tif(!showGiftOption){\n\t\t\t\t\tjQuery('.send-renewal-notice').show();\n\t\t\t\t\tjQuery('.send-renewal-notice').find('.no-zone').show();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tjQuery('.send-renewal-notice').show();\n\t\t\t\t\t\n\t\t\t\t\tif(jQuery('[name=\"subs_isgift\"]:checked').val() == \"T\")\n\t\t\t\t\t\tjQuery('.send-renewal-notice').find('.no-zone').hide();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tjQuery('.send-renewal-notice').hide();\n\t\t\t}\n\t\t});  \n\n\t this.application = options.application;\n        this.application.getLayout().on('beforeAppendView',function(view){\n            const viewId = view.$el.attr('id');\n\n            if(viewId == 'ProductDetails.Full.View' && SessionStorageHandler.get('musician-resource-page')==\"true\"){\n                this.$(document).ready(function(){\n                    $('.shopping-layout-breadcrumb').hide();\n                });\n\t\t\t\tthis.render();\t\n            }\n        });\n\n\t this.musician = new MusicianResourceModel();\n\n    },\n\t\n childViews: _.extend(existingView.prototype.childViews, {\n\t\t\t'Product.Information': function ()\n\t\t\t{\n\t\t\t\treturn new ProductDetailsInformationView({\n\t\t\t\t\tmodel: this.model\n\t\t\t\t,\tsearchRes: this.imprintOptionModel.get('addInfo')\n\t\t\t\t});\n\t\t\t}\n\t\t,\t'Product.ImprintOption': function ()\n\t\t\t{\t\n\t\t\t\treturn new ProductDetailsImprintOptionView({\n\t\t\t\t\tmodel: this.model\n\t\t\t\t,\tapplication: this.application\n\t\t\t\t,\tsearchRes: this.imprintOptionModel.get('imprintData')\n\t\t\t\t});\n\t\t\t}\n\t\t,\t'Product.Subitems': function ()\n\t\t\t{\t\n\t\t\t\treturn new ProductDetailsSubItemsView({\n\t\t\t\t\tmodel: this.model\n\t\t\t\t,\tapplication: this.application\n\t\t\t\t,\tsubItems: this.imprintOptionModel.get('subItems')\n\t\t\t\t});\n\t\t\t}\n\t})\n,\tdestroy: function destroy(): any {\n        return this._destroy();\n    }\n,\tevents: {\n\t\t'click #goto-description': 'gotoDescription'\n\t,\t'change [name=\"subs_isgift\"]': 'toggleSubsOptions'\n\t,\t'blur .required-subs-field': 'handleErr'\n\t,\t'change [name=\"subs_Renewal_notice\"]': 'handleErr3'\n\t,\t'change [name=\"subs_recipient_country\"]': 'updateStates'\n\t}\n,\tupdateStates: function (e)\n\t{\n\t\tvar html = '';\n\t\tvar selectedCountry = this.$(e.currentTarget).val();\n\t\tvar countries = Configuration.get('siteSettings.countries');\n\t\tvar states = countries[selectedCountry].states || '';\n\t\t\n\t\tif(states){\n\t\t\thtml += '<select name=\"subs_recipient_state\" class=\"required-subs-field\"><option value=\"\">-- Please Select --</option>';\n\t\t\t_.each(states,function(state:any){\n\t\t\t\thtml +='<option value=\"'+state.code+'\">'+state.name+'</option>';\n\t\t\t});\n\t\t\thtml+='</select>';\n\t\t}\n\t\telse{\n\t\t\thtml += '<input type=\"text\" name=\"subs_recipient_state\" class=\"required-subs-field\" maxlength=\"20\"/>';\n\t\t}\n\t\t\n\t\tthis.$('.subs_recipient_state_content').html(html);\n\t\tthis.$('.subs_recipient_state_content').removeAttr('data-validation-error');\n\t\t\n\t}\n,\thandleErr3: function(e)\n\t{\n\t\tvar radiobtn = $(e.currentTarget).val();\n\t\t\n\t\tif(radiobtn){\n\t\t\t\n\t\t\tif($('.subs_Renewal_notice-radio').find('p[data-validation-error=\"block\"]').length > 0){\n\t\t\t\t\n\t\t\t   $('.subs_Renewal_notice-radio').find('p[data-validation-error=\"block\"]').remove();\n\t\t\t}\n\t\t}\n\t}\n,\ttoggleSubsOptions: function(e)\n\t{\n\t\tvar radiobtn = $(e.currentTarget).val();\n\t\t\t\n\t\tif(radiobtn){\n\t\t\t\n\t\t\tif($('.subs_isgift-radio').find('p[data-validation-error=\"block\"]').length > 0){\n\t\t\t\t\n\t\t\t   $('.subs_isgift-radio').find('p[data-validation-error=\"block\"]').remove();\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(radiobtn == 'T'){\n\t\t\tthis.$('.no-zone').hide();\n\t\t\tthis.$('.yes-zone').show();\n\t\t}\n\t\telse if(radiobtn == 'F'){\n\t\t\tthis.$('.yes-zone').hide();\n\t\t\tthis.$('.no-zone').show();\n\t\t}\n\t}\n,\thandleErr: function(e)\n\t{\t\n\t\tvar thisEl = $(e.currentTarget);\n\t\t\n\t\tif(thisEl.val()){\n\t\t\t\n\t\t\tif(thisEl.parent().find('[data-validation-error=\"block\"]').length > 0){\n\t\t\t\t\n\t\t\t\tthisEl.parent().find('[data-validation-error=\"block\"]').remove();\n\t\t\t\tthisEl.parent().removeAttr('data-validation-error');\n\t\t\t}\n\t\t\t\n\t\t\tif(thisEl.is('[type=\"email\"]')){\n\t\t\t\t\n\t\t\t\tif(!Backbone.Validation.patterns.email.test(thisEl.val())){\n\t\t\t\t\t\n\t\t\t\t\tif(thisEl.parent().find('p[data-validation-error=\"block\"]').length == 0){\n\t\t\t\t\t\t\n\t\t\t\t\t\tthisEl.parent().attr('data-validation-error','');\n\t\t\t\t\t\tthisEl.parent().append('<p data-validation-error=\"block\">Enter a valid email.</p>');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t}\n\t\t\tif(thisEl.is('[name=\"subs_recipient_zip\"]')){\n\t\t\t\t\n\t\t\t\tvar tmp_var:any = thisEl.val();\n\t\t\t\t\n\t\t\t\tif(tmp_var.length > 10){\n\t\t\t\t\t\n\t\t\t\t\tif(thisEl.parent().find('p[data-validation-error=\"block\"]').length == 0){\n\t\t\t\t\t\t\n\t\t\t\t\t\tthisEl.parent().attr('data-validation-error','');\n\t\t\t\t\t\tthisEl.parent().append('<p data-validation-error=\"block\">Max length is 10</p>');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t}\n\t\telse{\n\t\t\tif(thisEl.parent().find('p[data-validation-error=\"block\"]').length == 0){\n\t\t\t\t\n\t\t\t\tthisEl.parent().attr('data-validation-error','');\n\t\t\t\tthisEl.parent().append('<p data-validation-error=\"block\">This field is required.</p>');\n\t\t\t}\n\t\t}\n\t}\n,\tgotoDescription: function()\n\t{\t\n\t\tvar descriptionSec:any = [];\n\t\t\n\t\tif($('[data-target=\"product-details-information-0\"]').css('display') == \"none\")\n\t\t\tdescriptionSec = $('[data-target=\"#product-details-information-tab-0\"]');\n\t\telse\n\t\t\tdescriptionSec = $('[data-target=\"product-details-information-0\"]');\n\t\t\n\t\tdescriptionSec.trigger('click');\n\t\tdescriptionSec[0].scrollIntoView({\n\t\t\tbehavior: \"smooth\",\n\t\t\tblock: \"start\"\n\t\t});\n\t}\n,\tgetContext:  _.wrap(existingView.prototype.getContext, function init(fn) {\n\n\n\t\tlet retObj = fn.apply(this, _.toArray(arguments).slice(1));\n\t\tconst item = this.model.get('item');\n\t\tvar internalid = item.get(\"internalid\");\n\t\tvar value;\n\t\t\n\n        if(this.response[0] == undefined){\n\n\t\t\tvalue = {internalid:false};\n\t\t}\n\t\telse{\n\t\t\t\n\t\t\tvalue = this.response[0];\n\t\t}\n\t\t\n\n\t\t\t\tvar commercecategoryurls = this.model.get('item').get('commercecategory').categories;\n\n\t\t\t\t\tfor(var i = 0; i< commercecategoryurls.length;i++)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar catID = Configuration.get(\"Musicianresourcepage.musicianresourceid\");\n\t\t\t\t\t\tif(catID != null && catID != '' && commercecategoryurls[i].id == catID)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.model.backtosearch = true;\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t}\n\t\t\t\t\tif(this.model.backtosearch == true)\n\t\t\t\t\t{\t\t\t \t\t\t\t\t\t\n\t\t\t\t\t\tif(value[item.get(\"internalid\")] == true)\n\t\t\t\t\t\t{\t\t\t\n\t\t\t\t\t\t\tthis.model.ispreviouspurchase = true;\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{           \n\t\t\t\t\t\t\tthis.model.ispreviouspurchase = false;\n\n\t\t\t\t\t\t}\n\t\t\t\t    }\n\n\n\t\tvar hasSubItems = _.has(this.imprintOptionModel.get('subItems'),'results')? this.imprintOptionModel.get('subItems').results: [];\n\t\t\t\n\t\tretObj = _.extend(retObj,{\n\t\t\t\n\t\t\t\tisGiftItem: (item.get('itemtype') == \"GiftCert\")?true : false\n\t\t\t,\tcurrency: SC.SESSION.currency.symbol\n\t\t\t,\tisMatrixItem: item.get('custitem_appf_is_subscription_item') || false\n\t\t\t,\tremoveLogo: item.get('custitem_appf_remove_logo')\n\t\t\t,\tcountries: _.values(Configuration.get('siteSettings.countries'))\n\t\t\t,\thasSubItems: (hasSubItems.length > 0)? true: false\n\t\t\t,\tisOnSale: item.get('custitem_appf_item_on_sale') || false\n\t\t\t,\tOnSaleMessage: item.get('custitem_appf_item_on_sale_message') || ''\n\t\t\t,   info: this.model.ispreviouspurchase\n\t\t\t,   backtosearch:this.model.backtosearch\n\t\t\t,\tbacktosearchresultUrl:\"/musiciansresource?display=list\"\n\t\t});\n\t\t\t\t\n\t\treturn retObj;\n\t})\n});\n\nexport = existingView;\n\n"]}