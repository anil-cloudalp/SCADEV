{"version":3,"sources":["Cart.Item.Summary.View.Ext.ts"],"names":[],"mappings":"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","file":"Cart.Item.Summary.View.Ext.js","sourcesContent":["/// <amd-module name=\"Cart.Item.Summary.View.Ext\"/>\nimport * as _ from 'underscore';\nimport * as Utils from '../../../Commons/Utilities/JavaScript/Utils';\n\nimport existingView = require('../../../Commons/Cart/JavaScript/Cart.Item.Summary.View');\nimport { ProfileModel } from '../../../Commons/Profile/JavaScript/Profile.Model';\n\n_.extend(existingView.prototype, {\n\t\n\t// @method getContext\n    // @return {Cart.Item.Summary.View.Context}\n    getContext: function() {\n        const minimum_quantity = this.model.get('item').get('_minimumQuantity', true) || 1;\n        const maximum_quantity = this.model.get('item').get('_maximumQuantity', true);\n        const price_container_object = this.model.getPrice();\n\t\n\t\t// Price Addition For Other Charge Item\n\t\tvar customPrice:any;\n\t\tvar originalPrice = price_container_object.total || this.model.get('total') || 0;\n\t\t\n\t\tvar imprintDetails\n\t\t,\tisCrossItem\n\t\t,\tisHolyItem\n\t\t,\tothChargePrice:any = 0\n\t\t,\tcrossItemPrice:any = 0\n\t\t,\tholyItemPrice:any = 0;\n\t\t\n\t\tvar itemQty = this.model.get('quantity');\n\t\t//console.log(this.model);\n\t\tif(_.has(this,'attributes')){\n\t\t\t\t\n\t\t\tif(_.has(this.attributes,'data-root-component-id')){\n\t\t\t\t\n\t\t\t\tif(_.propertyOf(this.attributes)('data-root-component-id') == \"Cart.Detailed.View\"){\n\t\t\t\t\t_.each(this.model.get('options').models, function(opt:any){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(opt.get('cartOptionId') == \"custcol_appf_imprint_item_details\")\n\t\t\t\t\t\t\timprintDetails = !_.isUndefined(opt.get('value'))? opt.get('value').internalid : '';\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(opt.get('cartOptionId') == \"custcol_appf_imprint_cross\")\n\t\t\t\t\t\t\tisCrossItem = !_.isUndefined(opt.get('value'))? opt.get('value').internalid : '';\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(opt.get('cartOptionId') == \"custcol_appf_holy_bible\")\n\t\t\t\t\t\t\tisHolyItem = !_.isUndefined(opt.get('value'))? opt.get('value').internalid : '';\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(imprintDetails && itemQty){\n\t\t\t\t\t\t\n\t\t\tif(imprintDetails.indexOf('|') != -1){\n\t\t\t\tothChargePrice = imprintDetails.split('|')[1];\n\t\t\t\t\n\t\t\t\tif(isCrossItem == \"T\")\n\t\t\t\tcrossItemPrice = imprintDetails.split('|')[3];\n\t\t\t\n\t\t\t\tif(isHolyItem == \"T\")\n\t\t\t\tholyItemPrice = imprintDetails.split('|')[5];\n\t\t\t}\n\t\t\t\n\t\t\tcustomPrice = originalPrice + (parseFloat(othChargePrice) * itemQty);\n\t\t\t\n\t\t\tif(crossItemPrice)\n\t\t\t\tcustomPrice += parseFloat(crossItemPrice) * itemQty;\n\t\t\t\n\t\t\tif(holyItemPrice)\n\t\t\t\tcustomPrice += parseFloat(holyItemPrice) * itemQty;\n\t\t\t\n\t\t\tcustomPrice = SC.SESSION.currency.symbol + customPrice.toFixed(2);\n\t\t}\n\t\telse{\n\t\t\tcustomPrice = price_container_object.total_formatted || this.model.get('total_formatted') || '';\n\t\t}\n        // @class Cart.Item.Summary.View.Context\n        return {\n            // @property {Model} line\n            line: this.model,\n            // @property {String} lineId\n            lineId: this.model.get('internalid'),\n            // @property {Boolean} isMinusButtonDisabled\n            isMinusButtonDisabled:\n                this.model.get('item').get('quantity') <= minimum_quantity ||\n                this.model.get('item').get('quantity') === 1,\n            // @property {Boolean} isPlusButtonDisabled\n            isPlusButtonDisabled:\n                !!maximum_quantity && this.model.get('item').get('quantity') >= maximum_quantity,\n            // @property {Boolean} showQuantity\n            showQuantity: this.model.get('item').get('_itemType') === 'GiftCert',\n            // @property {Boolean} showComparePrice\n            showComparePrice: this.model.get('amount') > this.model.get('total'),\n            // @property {Boolean} showMinimumQuantity\n            showMinimumQuantity: minimum_quantity > 1,\n            // @property {Integer} minimumQuantity\n            minimumQuantity: minimum_quantity,\n            // @property {Boolean} showMaximumQuantity\n            showMaximumQuantity: !!maximum_quantity,\n            // @property {Integer} maximumQuantity\n            maximumQuantity: maximum_quantity,\n            // @property {Boolean} isPriceEnabled\n            isPriceEnabled: !ProfileModel.getInstance().hidePrices(),\n            // @property {String} totalFormatted\n            totalFormatted: customPrice //price_container_object.total_formatted || this.model.get('total_formatted') || ''\n        };\n        // @class Cart.Item.Summary.View\n    }\n\t\n});\n\nexport = existingView;\n\n"]}