{"version":3,"sources":["OrderHistory.List.Tracking.Number.View.Ext.ts"],"names":[],"mappings":"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","file":"OrderHistory.List.Tracking.Number.View.Ext.js","sourcesContent":["/// <amd-module name=\"OrderHistory.List.Tracking.Number.View.Ext\"/>\nimport * as _ from 'underscore';\nimport existingView = require('../../../Advanced/OrderHistory/JavaScript/OrderHistory.List.Tracking.Number.View');\n\n_.extend(existingView.prototype, {\n\t\n\tevents: _.extend(existingView.prototype.events, {\n        'click [data-action=\"download_file\"]': 'download_file'\n    }),\n\tdownload_file: function(e)\n\t{\n\t\tvar isDownloadable = this.model.get('isDownloadable') || '';\n\t\tvar internalid = this.model.get('internalid') || '';\n\t\tvar url = '/app/site/hosting/scriptlet.nl?script=558&deploy=1&gid=' + internalid;\n\t\tvar self = this;\n\t\tif(isDownloadable == \"T\"){\n\t\t\t$('#main').hide();\n\t\t\t//$('body').css({\"background-color\": \"#001C31\", \"height\": \"100%\"});\n\t\t\t$('body').append('<div style=\"text-align:center\"><img src=\"/media/images/Loading-Icon.gif\"/><br/><b>Downloading ...</b></div>');\n\t\t\twindow.location.href = url;\n\t\t\t\n\t\t}\n\t},\n\t// @method getContext @return OrderHistory.List.Tracking.Number.View.Context\n    getContext: function() {\n\t\tvar trackingLink = this.model.get('trackingLink') || '';\n\t\t\t\n        const self = this;\n        const tracking_numbers = _.map(this.model.get('trackingNumbers'), function(\n            tracking_number\n        ) {\n            return {\n                serviceName: self.getTrackingServiceName(tracking_number),\n                serviceURL: trackingLink || self.getTrackingServiceUrl(tracking_number) || '#',\n                trackingNumber: tracking_number\n            };\n        });\n\t\tvar downloadableitems = this.options.downloadableitems || false;\n\t\tvar showDownload = false;\n\t\t\n\t\tif(downloadableitems){\n\t\t\t\n\t\t\tvar isDownloadable = this.model.get('isDownloadable') || '';\n\t\t\tif(isDownloadable == \"T\"){\n\t\t\t\tshowDownload = true;\n\t\t\t}\n\t\t}\n\n        // @class OrderHistory.List.Tracking.Number.View.Context\n        return {\n            // @property {Boolean} isTrackingNumberCollectionEmpty\n            isTrackingNumberCollectionEmpty: !tracking_numbers.length,\n            // @property {Boolean} isTrackingNumberCollectionLengthEqual1\n            isTrackingNumberCollectionLengthEqual1: tracking_numbers.length === 1,\n            // @property {Boolean} showContentOnEmpty\n            showContentOnEmpty: !!this.options.showContentOnEmpty,\n            // @property {String} contentClass\n            contentClass: this.options.contentClass || '',\n            // @property {String} firstTrackingNumberName\n            firstTrackingNumberName: tracking_numbers[0] && tracking_numbers[0].serviceName,\n            // @property {String} firstTrackingNumberURL\n            firstTrackingNumberURL: tracking_numbers[0] && tracking_numbers[0].serviceURL,\n            // @property {String} firstTrackingNumberText\n            firstTrackingNumberText: tracking_numbers[0] && tracking_numbers[0].trackingNumber,\n            // @property {Number} trackingNumbersLength\n            trackingNumbersLength: tracking_numbers.length,\n            // @property {Boolean} collapseElements\n            collapseElements: !!this.options.collapseElements,\n            // @property {Collection<Backboone.Model>} trackingNumbers\n            trackingNumbers: tracking_numbers,\n            // @property {Boolean} showTrackPackagesLabel\n            showTrackPackagesLabel: !_.isUndefined(this.options.showTrackPackagesLabel)\n                ? this.options.showTrackPackagesLabel\n                : false,\n\t\t\tdownloadableitems: downloadableitems,\n\t\t\tshowDownload: showDownload\n        };\n    }\n});\n\nexport = existingView;\n\n"]}