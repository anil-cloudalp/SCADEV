{"version":3,"sources":["ProductDetails.ImageGallery.View.Ext.ts"],"names":[],"mappings":";;IAIA,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,SAAS,EAAE;QAEhC,UAAU,EAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,UAAU,EAAE,SAAS,IAAI,CAAC,EAAE;YACtE,IAAI,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAE3D,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAEpC,IAAI,WAAW,GAAG,KAAK,CAAC;YACxB,IAAI,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;YACvB,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC3B,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,iCAAiC,CAAC,IAAG,EAAE,CAAC;YAC7D,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,+BAA+B,CAAC,IAAG,EAAE,CAAC;YAE5D,IAAI,WAAW,GAAO,KAAK,CAAC,OAAO,EAAE,CAAC;YACtC,IAAI,QAAQ,GAAO,KAAK,CAAA,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAA,CAAC,CAAA,EAAE,CAAA;YACtD,IAAI,OAAO,GAAO,KAAK,CAAA,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,EAAE,CAAA,CAAC,CAAA,EAAE,CAAA;YAErD,IAAG,UAAU,CAAC,WAAW,CAAC,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC,WAAW,CAAC,IAAI,UAAU,CAAC,OAAO,CAAC;gBACnG,WAAW,GAAG,IAAI,CAAC;YAEnB,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAC;gBAEvB,OAAO,EAAI,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,IAAI,EAAE;gBAC7C,SAAS,EAAG,IAAI,CAAC,GAAG,CAAC,0BAA0B,CAAC,IAAI,EAAE;gBACtD,UAAU,EAAG,IAAI,CAAC,GAAG,CAAC,+BAA+B,CAAC,IAAI,EAAE;gBAC5D,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,gCAAgC,CAAC,IAAI,EAAE;gBAC7D,UAAU,EAAG,IAAI,CAAC,GAAG,CAAC,2BAA2B,CAAC;gBAClD,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,4BAA4B,CAAC,IAAI,KAAK;gBACvD,QAAQ,EAAE,WAAW;aACzB,CAAC,CAAC;YAEH,OAAO,MAAM,CAAC;QACf,CAAC,CAAC;KACF,CAAC,CAAC;IAEH,OAAS,YAAY,CAAC","file":"ProductDetails.ImageGallery.View.Ext.js","sourcesContent":["/// <amd-module name=\"ProductDetails.ImageGallery.View.Ext\"/>\nimport * as _ from 'underscore';\nimport existingView = require('../../../Advanced/ProductDetails/JavaScript/ProductDetails.ImageGallery.View');\n\n_.extend(existingView.prototype, {\n\t\n\tgetContext:  _.wrap(existingView.prototype.getContext, function init(fn) {\n\t\tlet retObj = fn.apply(this, _.toArray(arguments).slice(1));\n\t\t\n\t\tconst item = this.model.get('item');\n\t\t\n\t\tvar withinrange = false;\n\t\tvar today = new Date();\n\t\ttoday.setHours(0, 0, 0, 0);\n\t\tvar date1 = item.get('custitem_new_arrival_start_date')|| '';\n\t\tvar date2 = item.get('custitem_new_arrival_end_date')|| '';\n\t\t\n\tvar currentdate:any = today.getTime();\n\tvar fromdate:any = date1? new Date(date1).getTime():\"\"\n\tvar enddate:any = date2? new Date(date2).getTime():\"\"\n\n\tif(parseFloat(currentdate) >= parseFloat(fromdate) && parseFloat(currentdate) <= parseFloat(enddate))\n\t\twithinrange = true;\n\t\t\n\t\tretObj = _.extend(retObj,{\n\t\t\t\n\t\t\t\tnookUrl: \t\titem.get('custitem_nook_url') || ''\n\t\t\t,\tkindleUrl:\t\titem.get('custitem_appf_kindle_url') || ''\n\t\t\t,\tlookInside:\t\titem.get('custitem_appf_look_inside_url') || ''\n\t\t\t,\taudioSample:\titem.get('custitem_appf_audio_sample_url') || ''\n\t\t\t,\tremoveLogo: \titem.get('custitem_appf_remove_logo')\n\t\t\t,\tisOnSale: item.get('custitem_appf_item_on_sale') || false\n\t\t\t,   newBadge: withinrange\n\t\t});\n\t\t\n\t\treturn retObj;\n\t})\n});\n\nexport = existingView;\n\n"]}