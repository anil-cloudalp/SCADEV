{"version":3,"sources":["ProductDetails.Information.View.Ext.ts"],"names":[],"mappings":"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","file":"ProductDetails.Information.View.Ext.js","sourcesContent":["/// <amd-module name=\"ProductDetails.Information.View.Ext\"/>\nimport * as _ from 'underscore';\nimport existingView = require('../../../Advanced/ProductDetails/JavaScript/ProductDetails.Information.View');\nimport { Configuration } from '../../../Commons/Utilities/JavaScript/Configuration';\n\nimport Backbone = require('../../../Commons/Utilities/JavaScript/backbone.custom');\nimport BackboneView = require('../../../Commons/BackboneExtras/JavaScript/Backbone.View');\nimport $ = require('../../../Commons/Core/JavaScript/jQuery');\n\n\n_.extend(existingView.prototype, {\n\n\tevents: _.extend(existingView.prototype.events,{\n\t\t\n\t\t'click [data-action=\"selected-tab\"]': 'debouncedCheckContentHeight'\n\t\t\n\t}),\n    initialize: function initialize() {\n        BackboneView.prototype.initialize.apply(this, arguments);\n        this.details = this.options.details;\n        Backbone.on('resizeView', function(event) {\n            $('[data-action=\"sc-pusher-dismiss\"]').click();\n            return true;\n        });\n\t\t\n\t\tthis.addInfo = [];\n\t\tif(_.has(this.options.searchRes,'results')){\n\t\t\tthis.addInfo = this.options.searchRes.results;\n\t\t}\n    },\n\n    render: function() {\n\t\t\n\t\tthis.details = this.computeDetailsArea();\n        //this.details = this.details || this.computeDetailsArea();\n\n        this._render();\n\t\t\n\t\tif(!SC.isPageGenerator())\n\t\t{\n\t\t\tthis.debouncedCheckContentHeight();\n\t\t}\n    },\n\tdebouncedCheckContentHeight: function ()\n\t{\n\t\treturn _.defer(_.bind(this.checkContentHeight, this));\n\t},\n\tcheckContentHeight: function ()\n\t{\n\t\tvar content_height = this.$('.active [data-type=\"information-content-text\"]').height();\n\t\tif (content_height <= 370)\n\t\t{\n\t\t\tthis.$('[data-type=\"information-content-text-actions\"]').hide();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.$('[data-type=\"information-content-text-actions\"]').show();\n\t\t}\n\t},\n    computeDetailsArea: function() {\n        const self = this;\n        const details = [];\n\t\t\n\t\tvar additionalInfo = '';\t\n\t\tvar addInfo = this.addInfo;\n\t\t\n\t\tif(addInfo.length > 0){\n\t\t\t\n\t\t\tadditionalInfo = '<table class=\"product-details-information-additionalinfo\">'+\n\t\t\t'\t<colgroup>'+\n\t\t\t'\t <col width=\"25%\">'+\n\t\t\t'\t <col>'+\n\t\t\t'\t</colgroup>'+\n\t\t\t'\t<tbody>';\n\t\t\t\n\t\t\t_.each(addInfo, function(result:any){\n\t\t\t\t\n\t\t\t\tadditionalInfo +=\t\n\t\t\t'\t\t<tr>'+\n\t\t\t'\t\t\t<th>' + result.title + '</th>'+\n\t\t\t'\t\t\t<td>' + result.value + '</td>'+\n\t\t\t'\t\t</tr>';\n\t\t\t\n\t\t\t});\n\t\t\t\n\t\t\tadditionalInfo +=\n\t\t\t'\t</tbody>'+\n\t\t\t'</table>';\n\t\t}\n\t\t\n\t\tvar customerCare = '<div class=\"product-details-information-customercare\">'+\n\t\t'\t<div class=\"section-delivery\">'+\n\t\t'\t<h5><a title=\"Shipping Policy\" href=\"/shipping-policy\" target=\"_blank\">Delivery</a></h5>'+\n\t\t'\t<p>All in stock items <br>ship next business day.</p>'+\n\t\t'\t</div>'+\n\t\t'\t<div class=\"section-customer-service\">'+\n\t\t'\t<h5><a title=\"Customer Care\" href=\"/contact-us\" target=\"_blank\">Customer Service</a></h5>'+\n\t\t'\t<p>Questions? <br>Call us at 800.662.6022</p>'+\n\t\t'\t</div>'+\n\t\t'\t<div class=\"section-returns\">'+\n\t\t'\t<h5><a title=\"returns\" href=\"/returns\" target=\"_blank\">Easy Returns</a></h5>'+\n\t\t'\t<p>30 Day Return Policy</p>'+\n\t\t'\t</div>'+\n\t\t'\t</div>';\n\t\n        _.each(Configuration.get('productDetailsInformation', []), function(item_information: any) {\n            let content = '';\n\n            if (item_information.contentFromKey) {\n                content = self.model.get('item').get(item_information.contentFromKey);\n            }\n\n            if (content && $.trim(content)) {\n                // @class ProductDetails.Information.DataContainer\n                details.push({\n                    // @property {String} name\n                    name: item_information.name,\n                    // @property {String} content Any string and event valid HTML is allowed\n                    content: content,\n                    // @property {String} itemprop\n                    itemprop: item_information.itemprop\n                });\n                // @class ProductDetails.Information.View\n            }\n        });\n\t\t\n\t\tif(additionalInfo){\n\t\t\tdetails.push({\n\t\t\t\t\t\t//@property {String} name\n\t\t\t\tname: \"Additional Information\"\n\t\t\t\t//@property {String} content Any string and event valid HTML is allowed\n\t\t\t,\tcontent: additionalInfo\n\t\t\t\t//@property {String} itemprop\n\t\t\t,\titemprop: \"AdditionalInformation\"\n\t\t\t});\n\t\t}\n\t\tdetails.push({\n\t\t\t\t\t//@property {String} name\n\t\t\tname: \"Customer Care\"\n\t\t\t//@property {String} content Any string and event valid HTML is allowed\n\t\t,\tcontent: customerCare\n\t\t\t//@property {String} itemprop\n\t\t,\titemprop: \"CustomerCare\"\n\t\t});\n\n        return details;\n    }\n});\n\nexport = existingView;\n\n"]}