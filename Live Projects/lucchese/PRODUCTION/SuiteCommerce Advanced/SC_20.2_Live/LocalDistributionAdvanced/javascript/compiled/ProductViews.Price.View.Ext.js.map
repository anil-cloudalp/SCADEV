{"version":3,"sources":["ProductViews.Price.View.Ext.ts"],"names":[],"mappings":"AAAA,oDAAoD;;;IAOpD,CAAC,CAAC,MAAM,CAAC,qBAAqB,CAAC,SAAS,EAAE;QAEzC,UAAU,EAAG,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,UAAU,EAAE,SAAS,IAAI,CAAC,EAAE;YAC/E,IAAI,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAE3D,IAAG,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,UAAU,EAAC;gBACpC,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,wBAAwB,CAAC,IAAI,EAAE,CAAC;gBAE7E,IAAI,mBAAmB,GAAG,EAAE,CAAC;gBAC7B,IAAI,mBAAmB,GAAG,EAAE,CAAC;gBAC7B,IAAI,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,EAAC,UAAU,CAAC,CAAA,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC;gBAE9E,IAAG,WAAW,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC;oBAClD,IAAI,MAAM,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACpC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;oBAE1B,IAAG,MAAM,CAAC,MAAM,GAAG,CAAC,EAAC;wBACpB,mBAAmB,GAAG,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;wBAC3C,mBAAmB,GAAG,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;qBAC3C;iBACD;gBAED,IAAG,mBAAmB,IAAI,mBAAmB,EAAC;oBAC7C,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC;oBAC3B,MAAM,CAAC,iBAAiB,GAAG,mBAAmB,CAAC;oBAC/C,MAAM,CAAC,iBAAiB,GAAG,mBAAmB,CAAC;iBAC/C;aACD;YAED,OAAO,MAAM,CAAC;QACf,CAAC,CAAC;KAEF,CAAC,CAAC;IAEH,OAAS,qBAAqB,CAAC","file":"ProductViews.Price.View.Ext.js","sourcesContent":["/// <amd-module name=\"ProductViews.Price.View.Ext\"/>\n\nimport * as _ from 'underscore';\n\nimport ProductViewsPriceView = require('../../../Commons/ProductViews/JavaScript/ProductViews.Price.View');\n\n\n_.extend(ProductViewsPriceView.prototype, {\n\t\n\tgetContext:  _.wrap(ProductViewsPriceView.prototype.getContext, function init(fn) {\n\t\tlet retObj = fn.apply(this, _.toArray(arguments).slice(1));\n\t\t\n\t\tif(this.options.origin == 'ITEMCELL'){\n\t\t\tvar matrixPrice = this.model.get('item').get('onlinematrixpricerange') || '';\n\t\t\t\n\t\t\tvar min_price_formatted = '';\n\t\t\tvar max_price_formatted = '';\n\t\t\tvar currency = _.has(SC.SESSION,'currency')? SC.SESSION.currency.symbol : '$';\n\t\t\t\n\t\t\tif(matrixPrice && (matrixPrice.indexOf(' ') != -1)){\n\t\t\t\tvar prices = matrixPrice.split(' ');\n\t\t\t\tprices = _.unique(prices);\n\t\t\t\t\n\t\t\t\tif(prices.length > 1){\n\t\t\t\t\tmin_price_formatted = currency + prices[0];\n\t\t\t\t\tmax_price_formatted = currency + prices[1];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(min_price_formatted && max_price_formatted){\n\t\t\t\tretObj.isPriceRange = true;\n\t\t\t\tretObj.minPriceFormatted = min_price_formatted;\n\t\t\t\tretObj.maxPriceFormatted = max_price_formatted;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn retObj;\n\t})\n\t\n});\n\nexport = ProductViewsPriceView;\n"]}